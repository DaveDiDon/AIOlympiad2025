/* CSS Variables for Theming */
:root {
    /* Light Theme Defaults */
    --bg-primary: #f0f4f8; /* Light Gray */
    --bg-secondary: #ffffff; /* White */
    --bg-section: #f8fafc; /* Slate-50 */
    --text-primary: #334155; /* Slate-700 */
    --text-secondary: #475569; /* Slate-600 */
    --text-header: #1e293b; /* Slate-800 */
    --text-accent: #4f46e5; /* Indigo-600 */
    --border-color: #e2e8f0; /* Gray-200 */
    --shadow-color-light: rgba(0, 0, 0, 0.1);
    --shadow-color-dark: rgba(0, 0, 0, 0.05);
    --shadow-inset-color: rgba(0, 0, 0, 0.06);

    /* Chart Colors */
    --chart-bar-songs: #60a5fa; /* Blue-400 */
    --chart-bar-songs-hover: #3b82f6; /* Blue-500 */
    --chart-bar-energy: #f87171; /* Red-400 */
    --chart-bar-energy-hover: #ef4444; /* Red-500 */
    --chart-bar-histogram: #8a2be2; /* BlueViolet */
    --chart-bar-histogram-hover: #6a0dad; /* Darker BlueViolet */
    --chart-axis-text: #475569; /* Slate-600 */
    --chart-grid: #cbd5e1; /* Slate-300 */

    /* Info Box Colors */
    --info-bg-green: #ecfdf5; /* Green-50 */
    --info-border-green: #a7f3d0; /* Green-200 */
    --info-text-green: #047857; /* Green-700 */
    --info-bg-yellow: #fffdf0; /* Yellow-50 */
    --info-border-yellow: #fde68a; /* Yellow-200 */
    --info-text-yellow: #b45309; /* Yellow-700 */
    --info-bg-purple: #f5f3ff; /* Purple-50 */
    --info-border-purple: #d8b4fe; /* Purple-200 */
    --info-text-purple: #7e22ce; /* Purple-700 */

    /* Button Colors */
    --btn-primary-bg: #2563eb; /* Blue-600 */
    --btn-primary-hover-bg: #1d4ed8; /* Blue-700 */
    --btn-danger-bg: #dc2626; /* Red-600 */
    --btn-danger-hover-bg: #b91c1c; /* Red-700 */
    --btn-secondary-bg: #d1d5db; /* Gray-300 */
    --btn-secondary-text: #374151; /* Gray-800 */
    --btn-secondary-hover-bg: #9ca3af; /* Gray-400 */

    /* Input/Table Colors */
    --input-border: #d1d5db; /* Gray-300 */
    --input-focus-ring: #3b82f6; /* Blue-500 */
    --table-header-bg: #e2e8f0; /* Gray-200 */
    --table-border: #e2e8f0; /* Gray-200 */
    --table-row-even-bg: #f8fafc; /* Slate-50 */

    /* Message Colors */
    --error-text: #dc2626; /* Red-600 */
    --upload-success-text: #16a34a; /* Green-600 */
}

/* Dark Mode Overrides */
body.dark {
    --bg-primary: #1a202c; /* Dark Blue-Gray */
    --bg-secondary: #2d3748; /* Darker Blue-Gray */
    --bg-section: #28303e; /* Even darker for sections */
    --text-primary: #e2e8f0; /* Light Gray */
    --text-secondary: #a0aec0; /* Gray-400 */
    --text-header: #e2e8f0; /* Light Gray */
    --text-accent: #818cf8; /* Indigo-400 */
    --border-color: #4a5568; /* Gray-600 */
    --shadow-color-light: rgba(255, 255, 255, 0.05);
    --shadow-color-dark: rgba(255, 255, 255, 0.02);
    --shadow-inset-color: rgba(0, 0, 0, 0.2);

    /* Chart Colors */
    --chart-bar-songs: #4299e1; /* Blue-500 */
    --chart-bar-songs-hover: #3182ce; /* Blue-600 */
    --chart-bar-energy: #fc8181; /* Red-300 */
    --chart-bar-energy-hover: #e53e3e; /* Red-500 */
    --chart-bar-histogram: #b39ddb; /* Deep Purple-200 */
    --chart-bar-histogram-hover: #9575cd; /* Deep Purple-300 */
    --chart-axis-text: #a0aec0; /* Gray-400 */
    --chart-grid: #4a5568; /* Gray-600 */

    /* Info Box Colors */
    --info-bg-green: #2f4f4f; /* Darker Green */
    --info-border-green: #38a169; /* Green-600 */
    --info-text-green: #9ae6b4; /* Green-300 */
    --info-bg-yellow: #4a4020; /* Darker Yellow */
    --info-border-yellow: #d69e2e; /* Yellow-600 */
    --info-text-yellow: #f6ad55; /* Yellow-300 */
    --info-bg-purple: #3a245d; /* Darker Purple */
    --info-border-purple: #805ad5; /* Purple-600 */
    --info-text-purple: #d6bcfa; /* Purple-300 */

    /* Button Colors */
    --btn-primary-bg: #4c51bf; /* Indigo-700 */
    --btn-primary-hover-bg: #434190; /* Indigo-800 */
    --btn-danger-bg: #e53e3e; /* Red-500 */
    --btn-danger-hover-bg: #c53030; /* Red-600 */
    --btn-secondary-bg: #4a5568; /* Gray-600 */
    --btn-secondary-text: #e2e8f0; /* Light Gray */
    --btn-secondary-hover-bg: #64748b; /* Gray-500 */

    /* Input/Table Colors */
    --input-border: #4a5568; /* Gray-600 */
    --input-focus-ring: #63b3ed; /* Blue-300 */
    --table-header-bg: #4a5568; /* Gray-600 */
    --table-border: #4a5568; /* Gray-600 */
    --table-row-even-bg: #2d3748; /* Darker Blue-Gray */
}

/* Apply CSS Variables */
body {
    font-family: 'Red Hat Display', sans-serif; /* Changed font */
    background-color: var(--bg-primary);
    color: var(--text-primary);
    transition: background-color 0.3s ease, color 0.3s ease;
}
.container {
    background-color: var(--bg-secondary);
    border-radius: 1.25rem; /* rounded-2xl */
    box-shadow: 0 10px 15px -3px var(--shadow-color-light), 0 4px 6px -2px var(--shadow-color-dark);
}
h1, h2, h3 {
    color: var(--text-header);
}
h1 {
    color: var(--text-accent);
}
h2 {
    color: var(--text-accent);
}
.chart-container-wrapper, .data-section-wrapper {
    background-color: var(--bg-section);
    border-radius: 1rem; /* rounded-xl */
    box-shadow: inset 0 2px 4px 0 var(--shadow-inset-color);
}
.bar-songs {
    fill: var(--chart-bar-songs);
}
.bar-songs:hover {
    fill: var(--chart-bar-songs-hover);
}
.bar-energy {
    fill: var(--chart-bar-energy);
}
.bar-energy:hover {
    fill: var(--chart-bar-energy-hover);
}
.bar-histogram {
    fill: var(--chart-bar-histogram);
}
.bar-histogram:hover {
    fill: var(--chart-bar-histogram-hover);
}
.axis text {
    fill: var(--chart-axis-text);
}
.axis line, .axis path {
    stroke: var(--chart-grid);
}
.input-field {
    border-color: var(--input-border);
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border-radius: 0.5rem; /* rounded-lg */
}
.input-field:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--input-focus-ring);
}
.btn-primary {
    background-color: var(--btn-primary-bg);
    color: white;
    border-radius: 0.5rem; /* rounded-lg */
}
.btn-primary:hover {
    background-color: var(--btn-primary-hover-bg);
}
.btn-danger {
    background-color: var(--btn-danger-bg);
    color: white;
    border-radius: 0.5rem; /* rounded-lg */
}
.btn-danger:hover {
    background-color: var(--btn-danger-hover-bg);
}
.btn-secondary {
    background-color: var(--btn-secondary-bg);
    color: var(--btn-secondary-text);
    border-radius: 0.5rem; /* rounded-lg */
}
.btn-secondary:hover {
    background-color: var(--btn-secondary-hover-bg);
}
table {
    border-color: var(--table-border);
    border-radius: 0.75rem; /* rounded-lg */
    overflow: hidden; /* Ensures rounded corners apply to table content */
}
th, td {
    border-color: var(--table-border);
    color: var(--text-primary);
}
th {
    background-color: var(--table-header-bg);
}
tr:nth-child(even) {
    background-color: var(--table-row-even-bg);
}
.text-red-600 { /* Specific override for error message */
    color: var(--error-text);
}
.text-green-600 { /* Specific override for upload success message */
    color: var(--upload-success-text);
}

/* Info Box Specifics - using direct Tailwind classes for simplicity, but could be themed too */
.p-6.bg-green-50 { background-color: var(--info-bg-green); border-color: var(--info-border-green); border-radius: 0.75rem; }
.p-6.bg-green-50 .text-green-700 { color: var(--info-text-green); }
.p-6.bg-yellow-50 { background-color: var(--info-bg-yellow); border-color: var(--info-border-yellow); border-radius: 0.75rem; }
.p-6.bg-yellow-50 .text-yellow-700 { color: var(--info-text-yellow); }
.p-6.bg-purple-50 { background-color: var(--info-bg-purple); border-color: var(--info-border-purple); border-radius: 0.75rem; }
.p-6.bg-purple-50 .text-purple-700 { color: var(--info-text-purple); }
.text-gray-600, .text-gray-500, .text-gray-800, .text-gray-700 {
    color: var(--text-secondary);
}
.text-gray-800 {
    color: var(--text-primary);
}
.text-gray-700 {
    color: var(--text-header);
}

/* Sticky Dark Mode Toggle Button */
#darkModeToggle {
    position: fixed;
    top: 1.5rem; /* Adjusted to top right corner with padding */
    right: 1.5rem; /* Adjusted to top right corner with padding */
    z-index: 1000;
    width: 3.5rem; /* Make it a circle */
    height: 3.5rem; /* Make it a circle */
    border-radius: 50%; /* Perfect circle */
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease, color 0.3s ease; /* Added color transition */
    background-color: var(--btn-secondary-bg); /* Use theme color */
    color: var(--btn-secondary-text); /* Use theme color */
}
#darkModeToggle:hover {
    background-color: var(--btn-secondary-hover-bg); /* Use theme color */
    transform: translateY(-2px);
}
#darkModeToggle svg {
    width: 1.75rem; /* Icon size */
    height: 1.75rem; /* Icon size */
}
